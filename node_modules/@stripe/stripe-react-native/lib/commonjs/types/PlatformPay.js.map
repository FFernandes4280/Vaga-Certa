{"version":3,"names":["ApplePaySheetErrorType","ContactField","InvalidShippingField","PaymentRequestType","ApplePayMerchantCapability","ApplePayShippingType","BillingAddressFormat","ButtonType","ButtonStyle","PaymentType","IntervalUnit"],"sources":["PlatformPay.ts"],"sourcesContent":["import type { Result as Token } from './Token';\nimport type { Result as PaymentMethod } from './PaymentMethod';\nimport type { Result as PaymentIntent } from './PaymentIntent';\nimport type { Result as SetupIntent } from './SetupIntent';\nimport type { StripeError, PlatformPayError } from './Errors';\n\nexport type ApplePaySheetError =\n  | {\n      errorType: ApplePaySheetErrorType.InvalidShippingAddress;\n      field: InvalidShippingField;\n      message?: string;\n    }\n  | {\n      errorType:\n        | ApplePaySheetErrorType.UnserviceableShippingAddress\n        | ApplePaySheetErrorType.InvalidCouponCode\n        | ApplePaySheetErrorType.ExpiredCouponCode;\n      message?: string;\n    };\n\nexport enum ApplePaySheetErrorType {\n  InvalidShippingAddress = 'InvalidShippingAddress',\n  UnserviceableShippingAddress = 'UnserviceableShippingAddress',\n  InvalidCouponCode = 'InvalidCouponCode',\n  ExpiredCouponCode = 'ExpiredCouponCode',\n}\n\nexport enum ContactField {\n  EmailAddress = 'emailAddress',\n  Name = 'name',\n  PhoneNumber = 'phoneNumber',\n  PhoneticName = 'phoneticName',\n  PostalAddress = 'postalAddress',\n}\n\nexport enum InvalidShippingField {\n  Street = 'street',\n  City = 'city',\n  SubAdministrativeArea = 'subAdministrativeArea',\n  State = 'state',\n  PostalCode = 'postalCode',\n  Country = 'country',\n  CountryCode = 'countryCode',\n  SubLocality = 'subLocality',\n}\n\nexport type ApplePayBaseParams = {\n  /** ISO 3166-1 alpha-2 country code where the transaction is processed. */\n  merchantCountryCode: string;\n  /** ISO 4217 alphabetic currency code. */\n  currencyCode: string;\n  /** The SDK accepts Amex, Mastercard, Visa, and Discover for Apple Pay by default. Set this property to enable other card networks, for example: [\"JCB\", \"barcode\", \"chinaUnionPay\"]. A full list of possible networks can be found at https://developer.apple.com/documentation/passkit/pkpaymentnetwork. */\n  additionalEnabledNetworks?: Array<string>;\n  /** The list of items that describe a purchase. For example: total, tax, discount, and grand total. */\n  cartItems: Array<CartSummaryItem>;\n  /** The list of fields that you need for a shipping contact in order to process the transaction. If you include ContactField.PostalAddress in this array, you must implement the PlatformPayButton component's `onShippingContactSelected` callback and call `updatePlatformPaySheet` from there.*/\n  requiredShippingAddressFields?: Array<ContactField>;\n  /** The list of fields that you need for a billing contact in order to process the transaction. */\n  requiredBillingContactFields?: Array<ContactField>;\n  /** An array of shipping method objects that describe the supported shipping methods. If provided, you must implement the PlatformPayButton component's `onShippingMethodSelected` callback and call `updatePlatformPaySheet` from there. */\n  shippingMethods?: Array<ShippingMethod>;\n  /** Set the payment capabilities you support. If set, 3DS is required. */\n  merchantCapabilities?: Array<ApplePayMerchantCapability>;\n  /** An optional value that indicates how to ship purchased items. Defaults to 'Shipping'.*/\n  shippingType?: ApplePayShippingType;\n  /** A list of two-letter ISO 3166 country codes for limiting payment to cards from specific countries or regions. */\n  supportedCountries?: Array<string>;\n};\n\nexport type ApplePayConfirmParams = {\n  /** A typical request is for a one-time payment. To support different types of payment requests, include a PaymentRequestType. Only supported on iOS 16 and up. */\n  request?:\n    | RecurringPaymentRequest\n    | AutomaticReloadPaymentRequest\n    | MultiMerchantRequest;\n};\n\nexport enum PaymentRequestType {\n  Recurring = 'Recurring',\n  AutomaticReload = 'AutomaticReload',\n  MultiMerchant = 'MultiMerchant',\n}\n\n/** Use this for a recurring payment, typically a subscription. */\nexport type RecurringPaymentRequest = {\n  type: PaymentRequestType.Recurring;\n  /** A description that you provide of the recurring payment and that Apple Pay displays to the user in the sheet. */\n  description: string;\n  /** A URL to a web page where the user can update or delete the payment method for the recurring payment. */\n  managementUrl: string;\n  /** The regular billing cycle for the payment, including start and end dates, an interval, and an interval count. */\n  billing: RecurringCartSummaryItem;\n  /** Same as the billing property, but use this if the purchase has a trial period. */\n  trialBilling?: RecurringCartSummaryItem;\n  /** A localized billing agreement that the sheet displays to the user before the user authorizes the payment. */\n  billingAgreement?: string;\n  /** A URL you provide to receive life-cycle notifications from the Apple Pay servers about the Apple Pay merchant token for the recurring payment.\n   * For more information about handling merchant token life-cycle notifications, see Receiving and handling merchant token notifications.\n   */\n  tokenNotificationURL?: string;\n};\n\n/** Use this for an automatic reload or refill payment, such as a store card top-up. */\nexport type AutomaticReloadPaymentRequest = {\n  type: PaymentRequestType.AutomaticReload;\n  /** A description that you provide of the recurring payment and that Apple Pay displays to the user in the sheet. */\n  description: string;\n  /** A URL to a web page where the user can update or delete the payment method for the recurring payment. */\n  managementUrl: string;\n  /** A short, localized description of the item. */\n  label: string;\n  /** This is the amount that is automatically applied to the account when the account balance drops below the threshold amount. */\n  reloadAmount: string;\n  /** The balance an account reaches before you apply the automatic reload amount. */\n  thresholdAmount: string;\n  /** A localized billing agreement that the sheet displays to the user before the user authorizes the payment. */\n  billingAgreement?: string;\n  /** A URL you provide to receive life-cycle notifications from the Apple Pay servers about the Apple Pay merchant token for the recurring payment.\n   * For more information about handling merchant token life-cycle notifications, see Receiving and handling merchant token notifications.\n   */\n  tokenNotificationURL?: string;\n};\n\n/** Use this to indicate payments for multiple merchants. */\nexport type MultiMerchantRequest = {\n  type: PaymentRequestType.MultiMerchant;\n  merchants: Array<{\n    /** The Apple Pay merchant identifier. */\n    merchantIdentifier: string;\n    /** An external identifier for the merchant. */\n    externalIdentifier: string;\n    /** The merchant’s display name that the Apple Pay server associates with the payment token. */\n    merchantName: string;\n    /** The merchant’s top-level domain that the Apple Pay server associates with the payment token. */\n    merchantDomain?: string;\n    /** The amount to authorize for the payment token. */\n    amount: string;\n  }>;\n};\n\nexport type ApplePayPaymentMethodParams = {\n  /** Set this value to true to display the coupon code field, or pass the 'couponCode' field to autofill with a coupon code. Defaults to false. If true, you must implement the PlatformPayButton component's `onCouponCodeEntered` callback and call `updatePlatformPaySheet` from there. */\n  supportsCouponCode?: boolean;\n  /** Set this value to autofill with a coupon code. If provided, you must implement the PlatformPayButton component's `onCouponCodeEntered` callback and call `updatePlatformPaySheet` from there. */\n  couponCode?: string;\n};\n\nexport enum ApplePayMerchantCapability {\n  /** Required. This value must be supplied. */\n  Supports3DS = 'supports3DS',\n  /** Optional. If present, only transactions that are categorized as credit cards are allowed. */\n  SupportsCredit = 'supportsCredit',\n  /** Optional. If present, only transactions that are categorized as debit cards are allowed. */\n  SupportsDebit = 'supportsDebit',\n}\n\n/** A type that indicates how to ship purchased items. */\nexport enum ApplePayShippingType {\n  /** Default. */\n  Shipping = 'shipping',\n  Delivery = 'delivery',\n  StorePickup = 'storePickup',\n  ServicePickup = 'servicePickup',\n}\n\nexport type GooglePayBaseParams = {\n  /**\n   * Set to true to run in a test environment with relaxed application / merchant requirements. This environment is suggested for early development and for easily testing SDK.\n      - Does not require the application to be uploaded to the Google Play Store.\n      - Does not require a Google Pay Developer Profile.\n      - It uses production data, but at the end of the transaction you will receive a fake and non chargeable payment credential.\n      - The user will see a warning message that the app is not recognized/verified.\n   */\n  testEnv: boolean;\n  /** ISO 3166-1 alpha-2 country code where the transaction is processed. */\n  merchantCountryCode: string;\n  /** ISO 4217 alphabetic currency code. */\n  currencyCode: string;\n  /** Your merchant name, displayed in the Google Pay sheet. */\n  merchantName?: string;\n  /** Set to true to request an email address. Defaults to false. */\n  isEmailRequired?: boolean;\n  /** Set to false if you don't support credit cards. Defaults to true. */\n  allowCreditCards?: boolean;\n  /** If true, Google Pay is considered \"available\" if the customer's Google Pay wallet has an existing payment method. Defaults to false. */\n  existingPaymentMethodRequired?: boolean;\n  /** Describes the configuration for billing address collection in the Google Pay sheet. */\n  billingAddressConfig?: {\n    /** Set to true if billing address is required for payment. Defaults to false. */\n    isRequired?: boolean;\n    /** Set to true if phone number is required for payment. Defaults to false. */\n    isPhoneNumberRequired?: boolean;\n    /** Defines what address fields to collect. Defaults to BillingAddressFormat.Min */\n    format?: BillingAddressFormat;\n  };\n  /** An optional label to display with the amount. Google Pay may or may not display this label depending on its own internal logic. Defaults to a generic label if none is provided. */\n  label?: string;\n  /** An optional amount to display for setup intents. Google Pay may or may not display this amount depending on its own internal logic. Defaults to 0 if none is provided. Provide this value in the currency’s smallest unit. */\n  amount?: number;\n};\n\nexport type GooglePayPaymentMethodParams = {\n  /** Describes the configuration for shipping address collection in the Google Pay sheet. */\n  shippingAddressConfig?: {\n    /** Set to true if shipping address is required for payment. Defaults to false. */\n    isRequired?: boolean;\n    /** Set to true if phone number is required for payment. Defaults to false. */\n    isPhoneNumberRequired?: boolean;\n    /** Set of ISO 3166-1 alpha-2 country code values of the countries where shipping is allowed. Defaults to all shipping address countries. */\n    allowedCountryCodes?: Array<string>;\n  };\n};\n\nexport enum BillingAddressFormat {\n  /** Collect name, street address, locality, region, country code, and postal code. */\n  Full = 'FULL',\n  /** Collect name, country code, and postal code (default). */\n  Min = 'MIN',\n}\n\nexport type PaymentMethodParams = {\n  /** Defines Google Pay behavior. Android only. */\n  googlePay?: GooglePayBaseParams & GooglePayPaymentMethodParams;\n  /** Defines Apple Pay behavior. iOS only. */\n  applePay?: ApplePayBaseParams & ApplePayPaymentMethodParams;\n};\n\nexport type ConfirmParams = {\n  /** Defines Google Pay behavior. Android only. */\n  googlePay?: GooglePayBaseParams;\n  /** Defines Apple Pay behavior. iOS only. */\n  applePay?: ApplePayBaseParams & ApplePayConfirmParams;\n};\n\nexport enum ButtonType {\n  /** A button with the Apple Pay or Google Pay logo only, useful when an additional call to action isn't needed. */\n  Default = 0,\n  /** A button useful for product purchases. */\n  Buy = 1,\n  /** A button useful for booking trips, flights, or other experiences. */\n  Book = 6,\n  /** A button useful for purchase experiences that include other payment buttons that start with “Check out”. */\n  Checkout = 5,\n  /** A button used by approved nonprofit organization that lets people make donations. */\n  Donate = 4,\n  /** A button useful for placing orders for such as like meals or flowers. */\n  Order = 11,\n  /** A button useful for purchasing a subscription such as a gym membership or meal-kit delivery service. */\n  Subscribe = 7,\n  /** iOS only. A button useful for prompting the user to set up a card. */\n  SetUp = 2,\n  /** iOS only. A button useful for paying bills or invoices. */\n  InStore = 3,\n  /** iOS only. A button useful for adding money to a card, account, or payment system.*/\n  Reload = 8,\n  /** iOS only. A button useful for adding money to a card, account, or payment system. */\n  AddMoney = 9,\n  /** iOS only. A button useful for adding money to a card, account, or payment system. */\n  TopUp = 10,\n  /** iOS only. A button useful for renting items such as cars or scooters. */\n  Rent = 12,\n  /** iOS only. A button useful supporting people give money to projects, causes, organizations, and other entities.*/\n  Support = 13,\n  /** iOS only. A button useful to help people contribute money to projects, causes, organizations, and other entities. */\n  Contribute = 14,\n  /** iOS only. A button useful useful for letting people tip for goods or services. */\n  Tip = 15,\n  /** iOS only. A button useful for general purchases. */\n  Continue = 16,\n  /** Android only. A button useful for general payments. */\n  Pay = 1000,\n  /** Android only. The Google Pay payment button without the additional text. */\n  GooglePayMark = 1001,\n}\n\n/** iOS only. */\nexport enum ButtonStyle {\n  /** A white button with black lettering. */\n  White = 0,\n  /** A white button with black lettering and a black outline. */\n  WhiteOutline = 1,\n  /** A black button with white lettering. */\n  Black = 2,\n  /** Default. A button that automatically changes its appearance when the user switches between Light Mode and Dark Mode. */\n  Automatic = 3,\n}\n\n/** iOS only. */\nexport type CartSummaryItem =\n  | DeferredCartSummaryItem\n  | ImmediateCartSummaryItem\n  | RecurringCartSummaryItem;\n\n/** iOS only. */\nexport enum PaymentType {\n  Deferred = 'Deferred',\n  Immediate = 'Immediate',\n  Recurring = 'Recurring',\n}\n\n/** iOS only. Use this type for a payment that occurs in the future, such as a pre-order. Only available on iOS 15 and up, otherwise falls back to ImmediateCartSummaryItem. */\nexport type DeferredCartSummaryItem = {\n  paymentType: PaymentType.Deferred;\n  /** The unix timestamp of the date, in the future, of the payment. Measured in seconds. */\n  deferredDate: number;\n  label: string;\n  amount: string;\n};\n\n/** iOS only. Use this type for payments that will occur immediately. */\nexport type ImmediateCartSummaryItem = {\n  paymentType: PaymentType.Immediate;\n  /** When creating items for estimates or charges whose final value is not yet known, set this to true. */\n  isPending?: boolean;\n  label: string;\n  amount: string;\n};\n\n/** iOS only. Use this type for payments that occur more than once, such as a subscription. Only available on iOS 15 and up, otherwise falls back to ImmediateCartSummaryItem.*/\nexport type RecurringCartSummaryItem = {\n  paymentType: PaymentType.Recurring;\n  /** The amount of time – in calendar units such as Day, Month, or Year – that represents a fraction of the total payment interval. For example, if you set the intervalUnit to 'Month' and intervalCount to 3, then the payment interval is three months.*/\n  intervalUnit: IntervalUnit;\n  /** The number of interval units that make up the total payment interval. For example, if you set the intervalUnit to 'Month' and intervalCount to 3, then the payment interval is three months.*/\n  intervalCount: number;\n  /** The unix timestamp of the start date. Measured in seconds. */\n  startDate?: number;\n  /** The unix timestamp of the end date. Measured in seconds. */\n  endDate?: number;\n  label: string;\n  amount: string;\n};\n\n/** iOS only. */\nexport enum IntervalUnit {\n  Minute = 'minute',\n  Hour = 'hour',\n  Day = 'day',\n  Month = 'month',\n  Year = 'year',\n}\n\n/** iOS only. */\nexport type ShippingMethod = {\n  /** A short, localized description. */\n  label: string;\n  /** The cost associated with this shipping option. */\n  amount: string;\n  /** When creating items for estimates or charges whose final value is not yet known, set this to true. */\n  isPending?: boolean;\n  /** A unique identifier for the shipping method. */\n  identifier: string;\n  /** A user-readable description of the shipping method. For example “Ships in 24 hours.” Don't repeat the content of the 'label' property. */\n  detail?: string;\n  /** The unix timestamp of the start date of the expected range of delivery or shipping dates for a package, or the time range when an item is available for pickup. Measured in seconds. */\n  startDate?: number;\n  /** The unix timestamp of the end date of the expected range of delivery or shipping dates for a package, or the time range when an item is available for pickup. Measured in seconds. */\n  endDate?: number;\n};\n\ninterface PostalAddress {\n  city?: string;\n  country?: string;\n  postalCode?: string;\n  state?: string;\n  street?: string;\n  isoCountryCode?: string;\n  subAdministrativeArea?: string;\n  subLocality?: string;\n}\n\ninterface ContactName {\n  familyName?: string;\n  namePrefix?: string;\n  nameSuffix?: string;\n  givenName?: string;\n  middleName?: string;\n  nickname?: string;\n}\n\nexport interface ShippingContact {\n  emailAddress?: string;\n  name: ContactName;\n  phoneNumber?: string;\n  postalAddress: PostalAddress;\n}\n\n/** Android only. */\nexport type IsGooglePaySupportedParams = {\n  /** Set to true to run in a test environment with relaxed application / merchant requirements. This environment is suggested for early development and for easily testing SDK. Defaults to false. */\n  testEnv?: boolean;\n  /**\n   * If `true`, Google Pay is considered ready if the customer's Google Pay wallet\n   * has an existing payment method. Defaults to false.\n   */\n  existingPaymentMethodRequired?: boolean;\n};\n\nexport type PaymentMethodResult =\n  | {\n      paymentMethod: PaymentMethod;\n      shippingContact?: ShippingContact;\n      error?: undefined;\n    }\n  | {\n      paymentMethod?: undefined;\n      shippingContact?: undefined;\n      error: StripeError<PlatformPayError>;\n    };\n\nexport type TokenResult =\n  | {\n      token: Token;\n      shippingContact?: ShippingContact;\n      error?: undefined;\n    }\n  | {\n      token?: undefined;\n      shippingContact?: undefined;\n      error: StripeError<PlatformPayError>;\n    };\n\nexport type ConfirmPaymentResult =\n  | {\n      paymentIntent: PaymentIntent;\n      error?: StripeError<PlatformPayError>;\n    }\n  | {\n      paymentIntent?: undefined;\n      error: StripeError<PlatformPayError>;\n    };\n\nexport type ConfirmSetupIntentResult =\n  | {\n      setupIntent: SetupIntent;\n      error?: StripeError<PlatformPayError>;\n    }\n  | {\n      setupIntent?: undefined;\n      error: StripeError<PlatformPayError>;\n    };\n"],"mappings":"4VAoBYA,uBAAsB,iEAAtBA,sBAAsB,EAAtBA,sBAAsB,oDAAtBA,sBAAsB,gEAAtBA,sBAAsB,0CAAtBA,sBAAsB,6CAAtBA,sBAAsB,kCAAtBA,sBAAsB,SAOtBC,aAAY,6CAAZA,YAAY,EAAZA,YAAY,gCAAZA,YAAY,gBAAZA,YAAY,8BAAZA,YAAY,gCAAZA,YAAY,qCAAZA,YAAY,wBAAZA,YAAY,SAQZC,qBAAoB,6DAApBA,oBAAoB,EAApBA,oBAAoB,oBAApBA,oBAAoB,gBAApBA,oBAAoB,kDAApBA,oBAAoB,kBAApBA,oBAAoB,4BAApBA,oBAAoB,sBAApBA,oBAAoB,8BAApBA,oBAAoB,iCAApBA,oBAAoB,gCAApBA,oBAAoB,SA0CpBC,mBAAkB,yDAAlBA,kBAAkB,EAAlBA,kBAAkB,0BAAlBA,kBAAkB,sCAAlBA,kBAAkB,qCAAlBA,kBAAkB,8BAAlBA,kBAAkB,SAsElBC,2BAA0B,yEAA1BA,0BAA0B,EAA1BA,0BAA0B,8BAA1BA,0BAA0B,oCAA1BA,0BAA0B,qCAA1BA,0BAA0B,sCAA1BA,0BAA0B,SAU1BC,qBAAoB,6DAApBA,oBAAoB,EAApBA,oBAAoB,wBAApBA,oBAAoB,wBAApBA,oBAAoB,8BAApBA,oBAAoB,qCAApBA,oBAAoB,gCAApBA,oBAAoB,SAwDpBC,qBAAoB,6DAApBA,oBAAoB,EAApBA,oBAAoB,gBAApBA,oBAAoB,iBAApBA,oBAAoB,gCAApBA,oBAAoB,SAqBpBC,WAAU,yCAAVA,UAAU,EAAVA,UAAU,CAAVA,UAAU,yBAAVA,UAAU,CAAVA,UAAU,iBAAVA,UAAU,CAAVA,UAAU,mBAAVA,UAAU,CAAVA,UAAU,2BAAVA,UAAU,CAAVA,UAAU,uBAAVA,UAAU,CAAVA,UAAU,sBAAVA,UAAU,CAAVA,UAAU,6BAAVA,UAAU,CAAVA,UAAU,qBAAVA,UAAU,CAAVA,UAAU,yBAAVA,UAAU,CAAVA,UAAU,uBAAVA,UAAU,CAAVA,UAAU,2BAAVA,UAAU,CAAVA,UAAU,sBAAVA,UAAU,CAAVA,UAAU,oBAAVA,UAAU,CAAVA,UAAU,0BAAVA,UAAU,CAAVA,UAAU,gCAAVA,UAAU,CAAVA,UAAU,kBAAVA,UAAU,CAAVA,UAAU,4BAAVA,UAAU,CAAVA,UAAU,oBAAVA,UAAU,CAAVA,UAAU,2CAAVA,UAAU,sBAAVA,UAAU,SA0CVC,YAAW,2CAAXA,WAAW,EAAXA,WAAW,CAAXA,WAAW,qBAAXA,WAAW,CAAXA,WAAW,mCAAXA,WAAW,CAAXA,WAAW,qBAAXA,WAAW,CAAXA,WAAW,gCAAXA,WAAW,uBAAXA,WAAW,SAkBXC,YAAW,2CAAXA,WAAW,EAAXA,WAAW,wBAAXA,WAAW,0BAAXA,WAAW,6BAAXA,WAAW,uBAAXA,WAAW,SAwCXC,aAAY,6CAAZA,YAAY,EAAZA,YAAY,oBAAZA,YAAY,gBAAZA,YAAY,cAAZA,YAAY,kBAAZA,YAAY,mBAAZA,YAAY,wBAAZA,YAAY"}