{"version":3,"names":["TextInputState","require","shouldAttributeExpo","NativeModules","NativeUnimoduleProxy","isiOS","Platform","OS","isAndroid","createError","error","code","message","localizedMessage","declineCode","stripeErrorCode","type","unsupportedMethodMessage","field","focusInput","ref","__DEV__","console","log","registerInput","unregisterInput","currentlyFocusedInput"],"sources":["helpers.ts"],"sourcesContent":["import type React from 'react';\nimport type { StripeError } from './types';\n\nimport { Platform, NativeModules } from 'react-native';\nconst TextInputState = require('react-native/Libraries/Components/TextInput/TextInputState');\n\n/**\n * Determines whether or not this library is being used inside of\n * an \"Expo\" project by identifying if Expo's native module\n * infrastructure (react-native-unimodules AKA expo-modules) is available.\n */\nexport const shouldAttributeExpo = () => {\n  try {\n    return !!NativeModules.NativeUnimoduleProxy;\n  } catch {\n    return false;\n  }\n};\n\nexport const isiOS = Platform.OS === 'ios';\nexport const isAndroid = Platform.OS === 'android';\n\nexport function createError<T>(error: StripeError<T>) {\n  return {\n    code: error.code,\n    message: error.message,\n    localizedMessage: error.localizedMessage,\n    declineCode: error.declineCode,\n    stripeErrorCode: error.stripeErrorCode,\n    type: error.type,\n  };\n}\n\nexport const unsupportedMethodMessage = (field: string) =>\n  `${field} method is not supported. Consider to upgrade react-native version to 0.63.x or higher`;\n\nexport const focusInput = (ref: React.MutableRefObject<any>) => {\n  if ('focusInput' in TextInputState) {\n    TextInputState.focusInput(ref);\n  } else {\n    if (__DEV__) {\n      console.log(unsupportedMethodMessage('focusInput'));\n    }\n  }\n};\n\nexport const registerInput = (ref: React.MutableRefObject<any>) => {\n  if ('registerInput' in TextInputState) {\n    TextInputState.registerInput(ref);\n  } else {\n    if (__DEV__) {\n      console.log(unsupportedMethodMessage('registerInput'));\n    }\n  }\n};\n\nexport const unregisterInput = (ref: React.MutableRefObject<any>) => {\n  if ('unregisterInput' in TextInputState) {\n    TextInputState.unregisterInput(ref);\n  } else {\n    if (__DEV__) {\n      console.log(unsupportedMethodMessage('unregisterInput'));\n    }\n  }\n};\n\nexport const currentlyFocusedInput = () => {\n  if ('currentlyFocusedInput' in TextInputState) {\n    return TextInputState.currentlyFocusedInput();\n  } else {\n    if (__DEV__) {\n      console.log(unsupportedMethodMessage('currentlyFocusedInput'));\n    }\n  }\n};\n"],"mappings":"4RAGA,yCACA,GAAMA,eAAc,CAAGC,OAAO,CAAC,4DAA4D,CAAC,CAOrF,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAmB,EAAS,CACvC,GAAI,CACF,MAAO,CAAC,CAACC,0BAAa,CAACC,oBAAoB,CAC7C,CAAE,cAAM,CACN,MAAO,MAAK,CACd,CACF,CAAC,CAAC,gDAEK,GAAMC,MAAK,CAAGC,qBAAQ,CAACC,EAAE,GAAK,KAAK,CAAC,oBACpC,GAAMC,UAAS,CAAGF,qBAAQ,CAACC,EAAE,GAAK,SAAS,CAAC,4BAE5C,QAASE,YAAW,CAAIC,KAAqB,CAAE,CACpD,MAAO,CACLC,IAAI,CAAED,KAAK,CAACC,IAAI,CAChBC,OAAO,CAAEF,KAAK,CAACE,OAAO,CACtBC,gBAAgB,CAAEH,KAAK,CAACG,gBAAgB,CACxCC,WAAW,CAAEJ,KAAK,CAACI,WAAW,CAC9BC,eAAe,CAAEL,KAAK,CAACK,eAAe,CACtCC,IAAI,CAAEN,KAAK,CAACM,IACd,CAAC,CACH,CAEO,GAAMC,yBAAwB,CAAG,QAA3BA,yBAAwB,CAAIC,KAAa,QACjDA,MAAK,2FAAwF,CAAC,0DAE5F,GAAMC,WAAU,CAAG,QAAbA,WAAU,CAAIC,GAAgC,CAAK,CAC9D,GAAI,YAAY,EAAIpB,eAAc,CAAE,CAClCA,cAAc,CAACmB,UAAU,CAACC,GAAG,CAAC,CAChC,CAAC,IAAM,CACL,GAAIC,OAAO,CAAE,CACXC,OAAO,CAACC,GAAG,CAACN,wBAAwB,CAAC,YAAY,CAAC,CAAC,CACrD,CACF,CACF,CAAC,CAAC,8BAEK,GAAMO,cAAa,CAAG,QAAhBA,cAAa,CAAIJ,GAAgC,CAAK,CACjE,GAAI,eAAe,EAAIpB,eAAc,CAAE,CACrCA,cAAc,CAACwB,aAAa,CAACJ,GAAG,CAAC,CACnC,CAAC,IAAM,CACL,GAAIC,OAAO,CAAE,CACXC,OAAO,CAACC,GAAG,CAACN,wBAAwB,CAAC,eAAe,CAAC,CAAC,CACxD,CACF,CACF,CAAC,CAAC,oCAEK,GAAMQ,gBAAe,CAAG,QAAlBA,gBAAe,CAAIL,GAAgC,CAAK,CACnE,GAAI,iBAAiB,EAAIpB,eAAc,CAAE,CACvCA,cAAc,CAACyB,eAAe,CAACL,GAAG,CAAC,CACrC,CAAC,IAAM,CACL,GAAIC,OAAO,CAAE,CACXC,OAAO,CAACC,GAAG,CAACN,wBAAwB,CAAC,iBAAiB,CAAC,CAAC,CAC1D,CACF,CACF,CAAC,CAAC,wCAEK,GAAMS,sBAAqB,CAAG,QAAxBA,sBAAqB,EAAS,CACzC,GAAI,uBAAuB,EAAI1B,eAAc,CAAE,CAC7C,MAAOA,eAAc,CAAC0B,qBAAqB,EAAE,CAC/C,CAAC,IAAM,CACL,GAAIL,OAAO,CAAE,CACXC,OAAO,CAACC,GAAG,CAACN,wBAAwB,CAAC,uBAAuB,CAAC,CAAC,CAChE,CACF,CACF,CAAC,CAAC"}